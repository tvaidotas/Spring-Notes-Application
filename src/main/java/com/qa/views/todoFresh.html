<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>TODO application</title>
</head>
<style>

    body{
        width:100%;
        height:100%;
        margin:0;
        padding:0;
    }

    html{
        width:100%;
        height:100%;
        margin:0;
        padding:0;
    }

    #addItemForm {
        width: 50%;
        text-align: center;
        margin-left: 25%;
        margin-right: 25%;
    }

    #newTodoDescription {
        text-align: center;
    }

    #searchItemForm {
        padding-top: 25px;
        width: 50%;
        text-align: center;
        margin-left: 25%;
        margin-right: 25%;
    }

    #newTodoSearch {
        text-align: center;
        background: url("https://static.thenounproject.com/png/101791-200.png") no-repeat right;
        background-size: 20px;
    }

</style>
<script>
    function addNewTodoItem() {
        let todoValue = document.getElementById("newTodoDescription").value.trim();
        if (todoValue === "") {
            alert("Please enter a value for your item");
        }
        createTodoItem(todoValue);
        document.getElementById("newTodoDescription").value = "";
    }

    function createTodoItem(todoItemDescription) {
        const newItem = {
            "description": todoItemDescription,
            "status": "NEW"
        };
        const requestOptions = {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify(newItem)
        };
        fetch('http://localhost:9000/notes', requestOptions)
            .then((response) => {
                if (!response.ok) {
                    alert("An error has occurred.  Unable to create the TODO item")
                    throw response.status;
                } else return response.json();
            })
            .then(item => addTodoItemToDisplay(item));
    }

</script>
<body>

    <h1 style="text-align: center">Todo application</h1>

    <form action="javascript:addNewTodoItem()" id="addItemForm">
        <input id="newTodoDescription" placeholder="Title..." type="text" style="width: 70%;">
        <input class="button" type="submit" value="Add Task" style="float: right"/>
    </form>

    <form action="javascript:searchTodos()" id="searchItemForm">
<!--        <input id="newTodoSearch" placeholder="Search..." type="text" style="width: 70%;">-->
        <input class="button" id="newTodoSearch" type="search" placeholder="Search" style="width: 100%; float: right"/>
    </form>


</body>
</html>